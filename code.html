<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="description" content="Elkyr Events">
    <meta name="author" content="k1">

    <title>Cover Template for Bootstrap</title>

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">

    <!-- Custom styles for this template -->
    <link href="cover.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  
    <style>
      #map-canvas {
        height: 250px;
        width: 250px;
        margin: 0px;
        padding: 0px
      }
    </style>

    <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&signed_in=false"></script>

  </head>

  <body>

    <div class="site-wrapper">

      <div class="site-wrapper-inner">


        <div class="cover-container">

          <div class="masthead clearfix">
            <div class="inner">
              <h3 class="masthead-brand">Cover</h3>
              <nav>
                <ul class="nav masthead-nav">
                  <li class="active"><a href="#">Home</a></li>
                  <li><a href="#">Features</a></li>
                  <li><a href="#">Contact</a></li>
                </ul>
              </nav>
            </div>
          </div>

          <div id="map-canvas"></div>

          <div class="inner cover">
            <h1 class="cover-heading">Cover your page.</h1>
            <p class="lead">Cover is a one-page template for building simple and beautiful home pages. Download, edit the text, and add your own fullscreen background photo to make it your own.</p>
            <p class="lead">
              <a href="#" class="btn btn-lg btn-default">Learn more</a>
            </p>
          </div>



          <div class="mastfoot">
            <div class="inner">
              <p id="dayyoos">Cover template for <a href="http://getbootstrap.com">Bootstrap</a>, by <a href="https://twitter.com/mdo">@mdo</a>.</p>
            </div>
          </div>

        </div>

      </div>

    </div>

    <script src="http://code.jquery.com/jquery-2.1.3.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
    <script>
      $(document).ready(function(){

      function initialize() {
        var myLatlng = new google.maps.LatLng(43.652,-79.381);
        var mapOptions = {
          disableDefaultUI: true,
          zoom: 12,
          center: myLatlng
        }
        var map = new google.maps.Map(document.getElementById('map-canvas'), mapOptions);

        var marker = new google.maps.Marker({
            position: new google.maps.LatLng(43.652,-79.381),
            map: map,
            title: 'Hello World!'
        });
      }
      google.maps.event.addDomListener(window, 'load', initialize);

      eb_url_string = "https://www.eventbriteapi.com/v3/events/search/?token=WLDLTCSQNTYUFBSE32R2&location.address=toronto&location.within=100km&";
      eb_popular = formatEbPopular();
      eb_categories = formatEbCategories();
      eb_url_string = eb_url_string + eb_popular + eb_categories;

      $.ajax({
        url: eb_url_string,
        success: ebDisplay,
        error: showError,
        jsonp: false,
        jsonpCallback: false,
        dataType: "json",
        cache: true
      })


      mu_url_string = "https://api.meetup.com/2/open_events?&sign=true&photo-host=public&state=ON&lon=-79.36000061035156&city=560735&lat=43.7400016784668&country=ca&key=33594d52533a314944433d6d22685d4a&radius=smart&page=20&";
      mu_categories = formatMuCategories();
      mu_url_string = mu_url_string + mu_categories;

      $.ajax({
        url: mu_url_string,
        success: muDisplay,
        error: showError,
        dataType: "jsonp"
      })



     });

    function ebDisplay(data){
        $("#dayyoos").text(data.events[0].name.text);
    }

    function muDisplay(data){
        $("#dayyoos").text(data.results[0].name);
    }


    function showError(){
        alert("Oops! Please try again :-(")
    }

    function formatEbPopular() {
        if (true){
          return "popular=on&";
        }
        return "popular=on&";
    }

    function formatEbCategories() {

      choice = $("#dayyoos").data("skey");

      if (choice == 1)
        return "q=party&categories=103%2C+104%2C+106%2C+110%2C+116%2C+119+%2C+199&";
      if (choice == 2)
        return "categories=103&";
      if (choice == 3)
        return "categories=110&";
      if (choice == 4)
        return "categories=119%2C+117%2C+115%2C+113%2C+110&";
      if (choice == 5)
        return "categories=108&";
      if (choice == 6)
        return "categories=109&";
      if (choice == 7)
        return "categories=111&";
      if (choice == 8)
        return "categories=102&";
      if (choice == 9)
        return "categories=114&";
      if (choice == 10)
        return "categories=105&";
      return "";

    }

    function formatMuCategories() {

      choice = $("#dayyoos").data("skey");

      if (choice == 1)
        return "category=5,21&";
      if (choice == 2)
       return "category=21&";
      if (choice == 3)
        return "category=10&";
      if (choice == 4)
        return "category=1,4,8,11,14,17&";
      if (choice == 5)
        return "category=9&";
      if (choice == 6)
        return "category=9&";
      if (choice == 7)
        return "category=4&";
      if (choice == 8)
        return "category=6&";
      if (choice == 9)
        return "category=22&";
      if (choice == 10)
        return "category=20,18,1&";
      return "";
    }


    </script>
    
  </body>
</html>
