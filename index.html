<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
		<meta name="description" content="lively">
		<meta name="author" content="k1">

		<title>Lively</title>

		<!-- Bootstrap core CSS -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">

		<!-- Custom styles for this template -->
		<link href="cover.css" rel="stylesheet">

		<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
		<!--[if lt IE 9]>
			<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
			<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
		<![endif]-->

		<style type="text/css">
			* {
				outline: none !important;
			}
			.pref-select {
				display: inline-block;
				border-radius: 1000px;
				width: 100px;
				height: 100px;
				background-color: green;
   				text-align: center;
			}
			.pref-select > span {
				display: inline-block;
				vertical-align: middle;
				line-height:98px
			}
			ul.list-unstyled {
				text-align: left;
			}
			.sentence-header {
				font-weight: bold;
				color: gray;
			}
			.sentence-select{
				margin: 5px 0;
			}
			.sentence-select>span {
				overflow: hidden;
				background-color: green;
				padding: 2px 5px;
				white-space: nowrap;
				display: inline-block;
			}
		</style>
	</head>
	<body>
		<div class="site-wrapper">
			<div class="site-wrapper-inner">
				<div class="cover-container">

					<div class="masthead clearfix">
						<div class="inner">
							<h3 class="masthead-brand">Lively</h3>
							<nav>
								<ul class="nav masthead-nav">
									<li class="active"><a id="take-home" href="#">Home</a></li>
									<li><a href="#">Features</a></li>
									<li><a id="clear-data" href="#">Clear Data</a></li>
								</ul>
							</nav>
						</div>
					</div>
					
					<div id="master-frame">
						<div class="inner cover" id="lively-home">
							<h1 class="cover-heading">Lively Events</h1>
							<p class="lead">Lively is a mood based event search app</p>
							<p class="lead">
								<a href="#" id="get-started" class="btn btn-lg btn-default">Get Started!</a>
							</p>
						</div>

						<div class="inner cover my-hidden" id="lively-clear-data">
							<h2 class="cover-heading">Are you sure you want to clear data</h2>
							<div class="form-group">
								<button onclick="localStorage.clear(); $('#take-home').click();" class="btn btn-lg btn-default">Yes!</button>
							</div>
						</div>

						<div class="inner cover my-hidden" id="lively-name">
							<h2 class="cover-heading">What's up?</h2>

							<div class="form-group">
								<input class="form-control" placeholder="What's your name?" id="user-name-input">
							</div>
							<div class="form-group">
								<a href="#" id="name-in" class="btn btn-lg btn-default">Dope!</a>
							</div>
						</div>

						<div class="inner cover my-hidden" id="lively-age">
							<h2 class="cover-heading">Hi <span id="user-name"></span>! Let's get to know each other</h2>

							<div class="form-group">
								<input type="number" class="form-control" placeholder="How old are you?" id="user-age-input">
							</div>
							<div class="form-group">
								<a href="#" id="age-in" class="btn btn-lg btn-default">Alright</a>
							</div>
						</div>

						<div class="inner cover my-hidden" id="lively-extraversion">
							<h2 class="cover-heading">Which of these two sounds more fun?</h2>
							<div class="form-group row">
								<div class="col-xs-6"><a class="pref-select pull-right pref-select-ext" data-value="extrovert" href="#"><span>Partying</span></a></div>
								<div class="col-xs-6"><a class="pref-select pull-left pref-select-ext" data-value="introvert" href="#"><span>Reading</span></a></div>
							</div>
							<div class="form-group">
								<a href="#" id="ext-in" class="btn btn-lg btn-default">Next</a>
							</div>
						</div>

						<div class="inner cover my-hidden" id="lively-doors">
							<h2 class="cover-heading">Where would you rather be?</h2>
							<div class="form-group row">
								<div class="col-xs-6"><a class="pref-select pull-right pref-select-doors" data-value="indoors" href="#"><span>Indoors</span></a></div>
								<div class="col-xs-6"><a class="pref-select pull-left pref-select-doors" data-value="outdoors" href="#"><span>Outdoors</span></a></div>
							</div>
							<div class="form-group">
								<a href="#" id="doors-in" class="btn btn-lg btn-default">Next</a>
							</div>
						</div>

						<div class="inner cover my-hidden" id="lively-dresscode">
							<h2 class="cover-heading">Suit up or casual?</h2>
							<div class="form-group row">
								<div class="col-xs-6"><a class="pref-select pull-right pref-select-dresscode" data-value="formal" href="#"><span>Formal</span></a></div>
								<div class="col-xs-6"><a class="pref-select pull-left pref-select-dresscode" data-value="casual" href="#"><span>Casual</span></a></div>
							</div>
							<div class="form-group">
								<a href="#" id="dresscode-in" class="btn btn-lg btn-default">Next</a>
							</div>
						</div>

						<div class="inner cover my-hidden" id="lively-ready">
							<h2 class="cover-heading">You're ready to go!</h2>
							<div>
								<button id="find-events" class="btn btn-lg btn-default">Lets find events</button>
							</div>
						</div>

						<div class="inner cover my-hidden" id="lively-sentence">
							<h2 class="cover-heading">The sentence</h2>
							<div>
								<ul class="list-unstyled">
									<li class="sentence-header">I'm</li>
									<li id="lively-sentence-im-link" class="sentence-select">
										<span>chilling at home</span>
									</li>

									<li class="sentence-header">&amp; feel like</li>
									<li id="lively-sentence-feel-link" class="sentence-select">
										<span>doing anything</span>
									</li>

									<li class="sentence-header">with</li>
									<li id="lively-sentence-with-link" class="sentence-select">
										<span>myself</span>
									</li>

									<li class="sentence-header">&amp; wanna get back home</li>
									<li id="lively-sentence-end-link" class="sentence-select">
										<span>not too late</span>
									</li>
								</ul>
								<button class="btn btn-lg btn-default">Search</button>
							</div>
						</div>

						<div class="inner cover my-hidden subsentence" id="lively-sentence-im">
							<h2 class="cover-heading">The sentence</h2>
							<div>
								<ul class="list-unstyled">
									<li class="sentence-header">I'm</li>
									<li class="sentence-select">
										<span>chilling at home</span>
									</li>
									<li class="sentence-select">
										<span>focused at work</span>
									</li>
									<li class="sentence-select">
										<span>on public transit</span>
									</li>
									<li class="sentence-select">
										<span>driving around</span>
									</li>
									<li class="sentence-select">
										<span>at a party</span>
									</li>
									<li class="sentence-select">
										<span>in da club</span>
									</li>
									<li class="sentence-select">
										<span>super bored</span>
									</li>
								</ul>
							</div>
						</div>

						<div class="inner cover my-hidden subsentence" id="lively-sentence-feel">
							<h2 class="cover-heading">The sentence</h2>
							<div>
								<ul class="list-unstyled">
									<li class="sentence-header">&amp; feel like</li>
									<li class="sentence-select">
										<span>doing anything</span>
									</li>
									<li class="sentence-select">
										<span>partying</span>
									</li>
									<li class="sentence-select">
										<span>wilding out at a concert</span>
									</li>
									<li class="sentence-select">
										<span>indulging my taste buds</span>
									</li>
									<li class="sentence-select">
										<span>winding down</span>
									</li>
									<li class="sentence-select">
										<span>working out</span>
									</li>
									<li class="sentence-select">
										<span>hitting the outdoors</span>
									</li>
									<li class="sentence-select">
										<span>helping the world</span>
									</li>
									<li class="sentence-select">
										<span>doing sciency stuff</span>
									</li>
									<li class="sentence-select">
										<span>getting spiritual</span>
									</li>
									<li class="sentence-select">
										<span>enjoying art</span>
									</li>
									<li class="sentence-select">
										<span>taking a chance</span>
									</li>
								</ul>
							</div>
						</div>

						<div class="inner cover my-hidden subsentence" id="lively-sentence-with">
							<h2 class="cover-heading">The sentence</h2>
							<div>
								<ul class="list-unstyled">
									<li class="sentence-header">with</li>
									<li class="sentence-select">
										<span>myself</span>
									</li>
									<li class="sentence-select">
										<span>some future friends</span>
									</li>
									<li class="sentence-select">
										<span>a few close friends</span>
									</li>
									<li class="sentence-select">
										<span>my better half</span>
									</li>
								</ul>
							</div>
						</div>

						<div class="inner cover my-hidden subsentence" id="lively-sentence-end">
							<h2 class="cover-heading">The sentence</h2>
							<div>
								<ul class="list-unstyled">
									<li class="sentence-header">&amp; wanna get back home</li>
									<li class="sentence-select">
										<span>at six in the mornin'</span>
									</li>
									<li class="sentence-select">
										<span>in a couple hours</span>
									</li>
									<li class="sentence-select">
										<span>around early evening</span>
									</li>
									<li class="sentence-select">
										<span>by midnight</span>
									</li>
									<li class="sentence-select">
										<span>not too late</span>
									</li>
								</ul>
							</div>
						</div>
						
					</div>
					<nav class="navbar-fixed-bottom">
						<div class="container">
							<div class="progress my-hidden">
								<div class="progress-bar" style="width: 0%; text-align: center;"></div>
							</div>
							<div class="mastfoot">
								<small>2015 Elkyr inc.</small>
							</div>
						</div>
					</nav>
				</div>
			</div>
		</div>
	
		<script src="http://code.jquery.com/jquery-2.1.3.min.js"></script>
		<script src="https://code.jquery.com/ui/1.11.2/jquery-ui.min.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
		<script type="text/javascript">
		jQuery.fn.visible = function() {
			return this.css('visibility', 'visible');
		};

		jQuery.fn.invisible = function() {
			return this.css('visibility', 'hidden');
		};

		function sentenceAnimation (selector) {
			$(selector + " .sentence-select>span").each(function() {
				$(this).data('width', $(this).css("width"));
				$(this).css({width: "100%"});
			});
			$(selector + " .sentence-select>span").each(function(){
				$(this).animate({width:  $(this).data('width')}, 750, "easeInOutQuint", function(){
					$(this).css({"width": ""});
				});
			});
		}

		function myHide (selector) {
			$(selector).hide(250, function(){
				$(selector).addClass("my-hidden");
			})
		}

		function myShow (selector) {
			$(selector).show(250, function(){
				$(selector).removeClass("my-hidden");
				$(selector).find('input').focus();
			})
		}

		function loadSentence() {
			myHide('.inner.cover:not(.my-hidden)');
			myShow("#lively-sentence");
			$('.masthead').show(250);
			sentenceAnimation("#lively-sentence");
		}

		function animateProgressBar (percent) {
			$(".progress > .progress-bar").animate({'width': percent+"%"}, 250, "easeOutQuint");
		}
		function sentenceClick (section) {
			myHide('.inner.cover:not(.my-hidden)');
			$('.masthead').hide(250);
			myShow("#lively-sentence-"+section);
			sentenceAnimation("#lively-sentence-"+section);
		}

		function prefSelect (thisElem, selector, lsKey) {
			var val = $(thisElem).data("value")
			if (localStorage.getItem(lsKey) != val){
				localStorage.setItem(lsKey, val);
				$(thisElem).animate({width: "140px", height: "140px"}, 100);
				$(thisElem).children('span').animate({'line-height': '140px', 'font-size': '25px'}, 100);
				$(selector).not($(thisElem)).animate({width: "100px", height: "100px"}, 100);
				$(selector).not($(thisElem)).children('span').animate({'font-size': '20px', 'line-height': '98px'}, 100);
			}
		}

		$(function(){
			$('#clear-data').click(function(){
				myHide('.inner.cover:not(.my-hidden)');
				myShow("#lively-clear-data");
			});

			$('#take-home').click(function(){
				myHide('.inner.cover:not(.my-hidden)');
				myShow("#lively-home");
			});

			$('#user-name-input').bind('keypress', function(e) {
				if (e.which == 13){
					$("#name-in").click();
				}
			});

			$('#user-age-input').bind('keypress', function(e) {
				if (e.which == 13){
					$("#age-in").click();
				}
			});

			$("#get-started").click(function(){
				if (localStorage.user_name && localStorage.user_age && localStorage.user_ext && localStorage.user_doors && localStorage.user_dresscode) {
					loadSentence();
				} else {
					localStorage.clear();
					myHide('.inner.cover:not(.my-hidden)');
					myShow("#lively-name");
					myShow(".progress");
					animateProgressBar(0);
					// $("#user-name-input").focus();
				}
			});

			$("#name-in").click(function(){
				localStorage.user_name = $("#user-name-input").val();
				$("#user-name").text($("#user-name-input").val());
				myHide('.inner.cover:not(.my-hidden)');
				myShow("#lively-age");
				animateProgressBar(20);
				// $("#user-age-input").focus();
			});

			$("#age-in").click(function(){
				localStorage.user_age = $("#user-age-input").val();
				myHide('.inner.cover:not(.my-hidden)');
				myShow("#lively-extraversion");
				animateProgressBar(40);
			});

			$(".pref-select-ext").click(function(){
				prefSelect(this, ".pref-select-ext", "user_ext");
			});

			$("#ext-in").click(function(){
				myHide('.inner.cover:not(.my-hidden)');
				myShow("#lively-doors");
				animateProgressBar(60);
			});

			$(".pref-select-doors").click(function(){
				prefSelect(this, ".pref-select-doors", "user_doors");
			});

			$("#doors-in").click(function(){
				myHide('.inner.cover:not(.my-hidden)');
				myShow("#lively-dresscode");
				animateProgressBar(80);
			});

			$(".pref-select-dresscode").click(function(){
				prefSelect(this, ".pref-select-dresscode", "user_dresscode");
			});

			$("#dresscode-in").click(function(){
				myHide('.inner.cover:not(.my-hidden)');
				myShow("#lively-ready");
				animateProgressBar(100);
			});

			$("#find-events").click(function(){
				myHide(".progress");
				loadSentence();
			});

			$("#lively-sentence-im-link").click(function(){
				sentenceClick("im");
			});

			$("#lively-sentence-feel-link").click(function(){
				sentenceClick("feel");
			});

			$("#lively-sentence-with-link").click(function(){
				sentenceClick("with")
			});

			$("#lively-sentence-end-link").click(function(){
				sentenceClick("end")
			});

			$(".subsentence li.sentence-select").click(function(){
				var thisElem = this;
				var parentId = $(thisElem).closest(".inner.cover").attr("id");
				$("#"+parentId+"-link").children("span").text($(thisElem).text());
				myHide('.inner.cover:not(.my-hidden)');
				loadSentence();
			});


		});
		</script>
	</body>
</html>
